<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sakura Sushi - –î–æ—Å—Ç–∞–≤–∫–∞ —è–ø–æ–Ω—Å–∫–æ–π –∫—É—Ö–Ω–∏</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://maps.googleapis.com/maps/api/js?key=mid=1wpKVuOKlHhJUb6M993AWk-6GaxdgTNtu&hl=ru&ehbc=2E312F" width="640" height="480"&callback=initMap" async defer></script>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background-color: #f9f1f4; /* Sakura pink background */
    }
    .sakura-logo {
      background-image: url('https://via.placeholder.com/50?text=üå∏'); /* Placeholder sakura logo */
      background-size: contain;
      width: 50px;
      height: 50px;
    }
    .japanese-text {
      font-family: 'Noto Sans JP', sans-serif;
    }
  </style>
</head>
<body class="min-h-screen flex flex-col">
  <!-- Header -->
  <header class="bg-white shadow-md sticky top-0 z-10">
    <div class="container mx-auto px-4 py-4 flex items-center justify-between">
      <div class="flex items-center space-x-4">
        <div class="sakura-logo"></div>
        <h1 class="text-2xl font-bold text-gray-800">Sakura Sushi</h1>
      </div>
      <nav class="flex space-x-6">
        <a href="ramen" class="text-gray-600 hover:text-pink-600">–†–∞–º—ë–Ω—ã</a>
        <a href="#rolls" class="text-gray-600 hover:text-pink-600">–†–æ–ª–ª—ã</a>
        <a href="#wok" class="text-gray-600 hover:text-pink-600">WOK</a>
      </nav>
      <div class="flex items-center space-x-4">
        <input type="text" id="search" placeholder="–ü–æ–∏—Å–∫..." class="border rounded-lg px-3 py-1">
        <button id="cart-btn" class="text-gray-600 hover:text-pink-600">üõí –ö–æ—Ä–∑–∏–Ω–∞ (<span id="cart-count">0</span>)</button>
        <button id="auth-btn" class="text-gray-600 hover:text-pink-600">–í–æ–π—Ç–∏</button>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="container mx-auto px-4 py-8 flex-grow">
    <!-- Auth Modal -->
    <div id="auth-modal" class="hidden fixed inset-0 bg-gray-800 bg-opacity-50 flex items-center justify-center">
      <div class="bg-white p-6 rounded-lg shadow-lg w-96">
        <h2 id="auth-title" class="text-xl font-bold mb-4">–í—Ö–æ–¥ / –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>
        <input id="phone-input" type="tel" placeholder="–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞" class="w-full border rounded-lg px-3 py-2 mb-4">
        <button id="send-sms" class="w-full bg-pink-600 text-white py-2 rounded-lg">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥</button>
        <div id="sms-verification" class="hidden mt-4">
          <input id="sms-code" type="text" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –∏–∑ –°–ú–°" class="w-full border rounded-lg px-3 py-2 mb-4">
          <button id="verify-sms" class="w-full bg-pink-600 text-white py-2 rounded-lg">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>
        </div>
        <button id="close-auth" class="mt-4 text-gray-600">–ó–∞–∫—Ä—ã—Ç—å</button>
      </div>
    </div>

    <!-- Admin Modal -->
    <div id="admin-modal" class="hidden fixed inset-0 bg-gray-800 bg-opacity-50 flex items-center justify-center">
      <div class="bg-white p-6 rounded-lg shadow-lg w-96">
        <h2 class="text-xl font-bold mb-4">–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h2>
        <input id="admin-phone-search" type="tel" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–æ–º–µ—Ä—É —Ç–µ–ª–µ—Ñ–æ–Ω–∞" class="w-full border rounded-lg px-3 py-2 mb-4">
        <button id="admin-search-btn" class="w-full bg-pink-600 text-white py-2 rounded-lg">–ù–∞–π—Ç–∏</button>
        <div id="admin-user-info" class="mt-4"></div>
        <button id="close-admin" class="mt-4 text-gray-600">–ó–∞–∫—Ä—ã—Ç—å</button>
      </div>
    </div>

    <!-- Courier Modal -->
    <div id="courier-modal" class="hidden fixed inset-0 bg-gray-800 bg-opacity-50 flex items-center justify-center">
      <div class="bg-white p-6 rounded-lg shadow-lg w-96">
        <h2 class="text-xl font-bold mb-4">–ö—É—Ä—å–µ—Ä-–ø–∞–Ω–µ–ª—å</h2>
        <div id="courier-orders" class="mt-4"></div>
        <button id="update-location" class="w-full bg-pink-600 text-white py-2 rounded-lg mt-4">–û–±–Ω–æ–≤–∏—Ç—å –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ</button>
        <button id="close-courier" class="mt-4 text-gray-600">–ó–∞–∫—Ä—ã—Ç—å</button>
      </div>
    </div>

    <!-- Cart Modal -->
    <div id="cart-modal" class="hidden fixed inset-0 bg-gray-800 bg-opacity-50 flex items-center justify-center">
      <div class="bg-white p-6 rounded-lg shadow-lg w-full max-w-2xl">
        <h2 class="text-xl font-bold mb-4">–ö–æ—Ä–∑–∏–Ω–∞</h2>
        <div id="cart-items"></div>
        <div class="mt-4">
          <input id="address" type="text" placeholder="–ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏" class="w-full border rounded-lg px-3 py-2 mb-2">
          <select id="payment-type" class="w-full border rounded-lg px-3 py-2 mb-2">
            <option value="cash">–ù–∞–ª–∏—á–Ω—ã–µ</option>
            <option value="card">–ö–∞—Ä—Ç–∞</option>
          </select>
          <input id="persons" type="number" min="1" placeholder="–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–µ—Ä—Å–æ–Ω" class="w-full border rounded-lg px-3 py-2 mb-2">
          <button id="place-order" class="w-full bg-pink-600 text-white py-2 rounded-lg">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>
        </div>
        <button id="close-cart" class="mt-4 text-gray-600">–ó–∞–∫—Ä—ã—Ç—å</button>
      </div>
    </div>

    <!-- Order History -->
    <section id="order-history" class="hidden mb-8">
      <h2 class="text-2xl font-bold mb-4">–ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤</h2>
      <div id="orders"></div>
    </section>

    <!-- Delivery Tracking -->
    <section id="delivery-tracking" class="hidden mb-8">
      <h2 class="text-2xl font-bold mb-4">–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –¥–æ—Å—Ç–∞–≤–∫–∏</h2>
      <div id="map" class="h-96 w-full"></div>
    </section>

    <!-- Catalog -->
    <section id="ramen" class="mb-12">
      <h2 class="text-2xl font-bold mb-4 japanese-text">–†–∞–º—ë–Ω—ã</h2>
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6" id="ramen-items"></div>
    </section>
    <section id="rolls" class="mb-12">
      <h2 class="text-2xl font-bold mb-4 japanese-text">–†–æ–ª–ª—ã</h2>
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6" id="rolls-items"></div>
    </section>
    <section id="wok" class="mb-12">
      <h2 class="text-2xl font-bold mb-4 japanese-text">WOK</h2>
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6" id="wok-items"></div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="bg-gray-800 text-white py-6">
    <div class="container mx-auto px-4 flex flex-col sm:flex-row justify-between items-center">
      <div>
        <p>–ì–æ—Ä—è—á–∞—è –ª–∏–Ω–∏—è: 123-456-789</p>
        <p>–ê–¥—Ä–µ—Å: –ü–∞–≤–ª–æ–≤–∞ 68</p>
      </div>
      <div class="flex space-x-4 mt-4 sm:mt-0">
        <a href="https://instagram.com" target="_blank"><img src="https://via.placeholder.com/30?text=üì∏" alt="Instagram"></a>
        <a href="https://telegram.org" target="_blank"><img src="https://via.placeholder.com/30?text=‚úàÔ∏è" alt="Telegram"></a>
      </div>
    </div>
  </footer>

  <script>
    // Simulated database
    let users = JSON.parse(localStorage.getItem('users')) || {};
    let orders = JSON.parse(localStorage.getItem('orders')) || [];
    let cart = JSON.parse(localStorage.getItem('cart')) || [];
    let currentUser = null;
    let couriers = [
      { id: 1, name: '–ò–≤–∞–Ω', lat: 55.7558, lng: 37.6173 },
      { id: 2, name: '–ê–Ω–Ω–∞', lat: 55.7558, lng: 37.6173 }
    ];

    // Catalog items
    const catalog = {
      ramen: [
        { id: 1, name: '–ù–∏–≥–∏—Ä–∏ —Å –ª–æ—Å–æ—Å–µ–º', price: 150, img: 'https://source.unsplash.com/random/200x200?ramen1' },
        { id: 2, name: '–ù–∏–≥–∏—Ä–∏ —Å —Ç—É–Ω—Ü–æ–º', price: 160, img: 'https://source.unsplash.com/random/200x200?ramen2' },
        { id: 3, name: '–ù–∏–≥–∏—Ä–∏ —Å –∫—Ä–µ–≤–µ—Ç–∫–æ–π', price: 140, img: 'https://source.unsplash.com/random/200x200?ramen3' },
        { id: 4, name: '–ù–∏–≥–∏—Ä–∏ —Å —É–≥—Ä–µ–º', price: 180, img: 'https://source.unsplash.com/random/200x200?ramen4' },
        { id: 5, name: '–ù–∏–≥–∏—Ä–∏ —Å –∫—Ä–∞–±–æ–º', price: 170, img: 'https://source.unsplash.com/random/200x200?ramen5' },
        { id: 6, name: '–ù–∏–≥–∏—Ä–∏ —Å –∞–≤–æ–∫–∞–¥–æ', price: 120, img: 'https://source.unsplash.com/random/200x200?ramen6' }
      ],
      rolls: [
        { id: 7, name: '–ö–∞–ª–∏—Ñ–æ—Ä–Ω–∏—è', price: 350, img: 'https://source.unsplash.com/random/200x200?roll1' },
        { id: 8, name: '–§–∏–ª–∞–¥–µ–ª—å—Ñ–∏—è', price: 380, img: 'https://source.unsplash.com/random/200x200?roll2' },
        { id: 9, name: '–î—Ä–∞–∫–æ–Ω', price: 400, img: 'https://source.unsplash.com/random/200x200?roll3' },
        { id: 10, name: '–°–ø–∞–π—Å–∏ —Ç—É–Ω–µ—Ü', price: 360, img: 'https://source.unsplash.com/random/200x200?roll4' },
        { id: 11, name: '–í–µ–≥–µ—Ç–∞—Ä–∏–∞–Ω—Å–∫–∏–π —Ä–æ–ª–ª', price: 300, img: 'https://source.unsplash.com/random/200x200?roll5' },
        { id: 12, name: '–¢–µ–º–ø—É—Ä–∞ —Ä–æ–ª–ª', price: 370, img: 'https://source.unsplash.com/random/200x200?roll6' }
      ],
      wok: [
        { id: 13, name: 'WOK —Å –∫—É—Ä–∏—Ü–µ–π', price: 320, img: 'https://source.unsplash.com/random/200x200?wok1' },
        { id: 14, name: 'WOK —Å –≥–æ–≤—è–¥–∏–Ω–æ–π', price: 350, img: 'https://source.unsplash.com/random/200x200?wok2' },
        { id: 15, name: 'WOK —Å –∫—Ä–µ–≤–µ—Ç–∫–∞–º–∏', price: 380, img: 'https://source.unsplash.com/random/200x200?wok3' },
        { id: 16, name: 'WOK —Å —Ç–æ—Ñ—É', price: 300, img: 'https://source.unsplash.com/random/200x200?wok4' },
        { id: 17, name: 'WOK —Å –æ–≤–æ—â–∞–º–∏', price: 280, img: 'https://source.unsplash.com/random/200x200?wok5' },
        { id: 18, name: 'WOK —Å –º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç–∞–º–∏', price: 400, img: 'https://source.unsplash.com/random/200x200?wok6' }
      ]
    };

    // Render catalog
    function renderCatalog() {
      ['ramen', 'rolls', 'wok'].forEach(section => {
        const container = document.getElementById(`${section}-items`);
        container.innerHTML = catalog[section].map(item => `
          <div class="bg-white p-4 rounded-lg shadow-md">
            <img src="${item.img}" alt="${item.name}" class="w-full h-48 object-cover rounded-lg mb-4">
            <h3 class="text-lg font-semibold">${item.name}</h3>
            <p class="text-gray-600">${item.price} ‚ÇΩ</p>
            <button onclick="addToCart(${item.id}, '${item.name}', ${item.price})" class="mt-2 bg-pink-600 text-white px-4 py-2 rounded-lg">–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É</button>
          </div>
        `).join('');
      });
    }

    // Cart management
    function addToCart(id, name, price) {
      const existing = cart.find(item => item.id === id);
      if (existing) {
        existing.quantity++;
      } else {
        cart.push({ id, name, price, quantity: 1 });
      }
      updateCart();
    }

    function updateCart() {
      localStorage.setItem('cart', JSON.stringify(cart));
      document.getElementById('cart-count').textContent = cart.reduce((sum, item) => sum + item.quantity, 0);
      const cartItems = document.getElementById('cart-items');
      cartItems.innerHTML = cart.map(item => `
        <div class="flex justify-between items-center mb-4">
          <div>
            <p>${item.name}</p>
            <p>${item.price} ‚ÇΩ x ${item.quantity} = ${item.price * item.quantity} ‚ÇΩ</p>
          </div>
          <div>
            <button onclick="updateCartQuantity(${item.id}, -1)" class="bg-gray-200 px-2 py-1 rounded">-</button>
            <button onclick="updateCartQuantity(${item.id}, 1)" class="bg-gray-200 px-2 py-1 rounded">+</button>
          </div>
        </div>
      `).join('');
    }

    function updateCartQuantity(id, change) {
      const item = cart.find(item => item.id === id);
      if (item) {
        item.quantity += change;
        if (item.quantity <= 0) {
          cart = cart.filter(i => i.id !== id);
        }
        updateCart();
      }
    }

    // Authentication
    document.getElementById('auth-btn').addEventListener('click', () => {
      document.getElementById('auth-modal').classList.remove('hidden');
    });

    document.getElementById('close-auth').addEventListener('click', () => {
      document.getElementById('auth-modal').classList.add('hidden');
    });

    document.getElementById('send-sms').addEventListener('click', () => {
      const phone = document.getElementById('phone-input').value;
      if (phone) {
        // Simulate SMS sending
        alert('–ö–æ–¥ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ ' + phone);
        document.getElementById('sms-verification').classList.remove('hidden');
      }
    });

    document.getElementById('verify-sms').addEventListener('click', () => {
      const phone = document.getElementById('phone-input').value;
      const code = document.getElementById('sms-code').value;
      if (code === '1234') { // Simulated code
        if (!users[phone]) {
          users[phone] = { phone, orders: [] };
          localStorage.setItem('users', JSON.stringify(users));
        }
        currentUser = phone;
        document.getElementById('auth-btn').textContent = `–í—ã–π—Ç–∏ (${phone})`;
        document.getElementById('auth-modal').classList.add('hidden');
        document.getElementById('order-history').classList.remove('hidden');
        if (phone === 'admin') {
          document.getElementById('auth-btn').innerHTML += ' | <button id="admin-btn">–ê–¥–º–∏–Ω</button>';
          document.getElementById('admin-btn').addEventListener('click', () => {
            document.getElementById('admin-modal').classList.remove('hidden');
          });
        } else if (phone.startsWith('courier')) {
          document.getElementById('auth-btn').innerHTML += ' | <button id="courier-btn">–ö—É—Ä—å–µ—Ä</button>';
          document.getElementById('courier-btn').addEventListener('click', () => {
            document.getElementById('courier-modal').classList.remove('hidden');
            renderCourierOrders();
          });
        }
        renderOrders();
      } else {
        alert('–ù–µ–≤–µ—Ä–Ω—ã–π –∫–æ–¥');
      }
    });

    // Cart handling
    document.getElementById('cart-btn').addEventListener('click', () => {
      if (!currentUser) {
        alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É');
        return;
      }
      document.getElementById('cart-modal').classList.remove('hidden');
      updateCart();
    });

    document.getElementById('close-cart').addEventListener('click', () => {
      document.getElementById('cart-modal').classList.add('hidden');
    });

    document.getElementById('place-order').addEventListener('click', () => {
      if (!currentUser) {
        alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É');
        return;
      }
      const address = document.getElementById('address').value;
      const paymentType = document.getElementById('payment-type').value;
      const persons = document.getElementById('persons').value;
      if (address && paymentType && persons && cart.length > 0) {
        const order = {
          id: Date.now(),
          user: currentUser,
          items: [...cart],
          address,
          paymentType,
          persons,
          status: '–ü—Ä–∏–Ω—è—Ç',
          courier: null,
          timestamp: new Date().toISOString()
        };
        orders.push(order);
        users[currentUser].orders.push(order.id);
        localStorage.setItem('orders', JSON.stringify(orders));
        localStorage.setItem('users', JSON.stringify(users));
        cart = [];
        updateCart();
        document.getElementById('cart-modal').classList.add('hidden');
        renderOrders();
      } else {
        alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è –∏ –¥–æ–±–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä—ã –≤ –∫–æ—Ä–∑–∏–Ω—É');
      }
    });

    // Order history
    function renderOrders() {
      if (!currentUser) return;
      const userOrders = orders.filter(order => order.user === currentUser);
      document.getElementById('orders').innerHTML = userOrders.map(order => `
        <div class="bg-white p-4 rounded-lg shadow-md mb-4">
          <p>–ó–∞–∫–∞–∑ #${order.id}</p>
          <p>–°—Ç–∞—Ç—É—Å: ${order.status}</p>
          <p>–ê–¥—Ä–µ—Å: ${order.address}</p>
          <p>–û–ø–ª–∞—Ç–∞: ${order.paymentType === 'cash' ? '–ù–∞–ª–∏—á–Ω—ã–µ' : '–ö–∞—Ä—Ç–∞'}</p>
          <p>–ü–µ—Ä—Å–æ–Ω: ${order.persons}</p>
          <p>–¢–æ–≤–∞—Ä—ã: ${order.items.map(item => `${item.name} x${item.quantity}`).join(', ')}</p>
          ${order.status === '–í –ø—É—Ç–∏' ? `<button onclick="trackOrder(${order.id})" class="bg-pink-600 text-white px-4 py-2 rounded-lg mt-2">–û—Ç—Å–ª–µ–¥–∏—Ç—å</button>` : ''}
        </div>
      `).join('');
    }

    // Admin panel
    document.getElementById('admin-search-btn').addEventListener('click', () => {
      const phone = document.getElementById('admin-phone-search').value;
      if (users[phone]) {
        const userOrders = orders.filter(order => order.user === phone);
        document.getElementById('admin-user-info').innerHTML = `
          <p>–¢–µ–ª–µ—Ñ–æ–Ω: ${phone}</p>
          <h3 class="text-lg font-semibold mt-4">–ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤:</h3>
          ${userOrders.map(order => `
            <div class="bg-gray-100 p-4 rounded-lg mb-4">
              <p>–ó–∞–∫–∞–∑ #${order.id}</p>
              <p>–°—Ç–∞—Ç—É—Å: ${order.status}</p>
              <p>–ê–¥—Ä–µ—Å: ${order.address}</p>
              <p>–¢–æ–≤–∞—Ä—ã: ${order.items.map(item => `${item.name} x${item.quantity}`).join(', ')}</p>
              <select onchange="updateOrderStatus(${order.id}, this.value)">
                <option value="–ü—Ä–∏–Ω—è—Ç" ${order.status === '–ü—Ä–∏–Ω—è—Ç' ? 'selected' : ''}>–ü—Ä–∏–Ω—è—Ç</option>
                <option value="–ì–æ—Ç–æ–≤–∏—Ç—Å—è" ${order.status === '–ì–æ—Ç–æ–≤–∏—Ç—Å—è' ? 'selected' : ''}>–ì–æ—Ç–æ–≤–∏—Ç—Å—è</option>
                <option value="–í –ø—É—Ç–∏" ${order.status === '–í –ø—É—Ç–∏' ? 'selected' : ''}>–í –ø—É—Ç–∏</option>
                <option value="–ó–∞–∫—Ä—ã—Ç" ${order.status === '–ó–∞–∫—Ä—ã—Ç' ? 'selected' : ''}>–ó–∞–∫—Ä—ã—Ç</option>
              </select>
              ${order.status === '–í –ø—É—Ç–∏' ? `
                <select onchange="assignCourier(${order.id}, this.value)">
                  <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫—É—Ä—å–µ—Ä–∞</option>
                  ${couriers.map(courier => `<option value="${courier.id}" ${order.courier === courier.id ? 'selected' : ''}>${courier.name}</option>`).join('')}
                </select>
              ` : ''}
            </div>
          `).join('')}
        `;
      } else {
        document.getElementById('admin-user-info').innerHTML = '<p>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω</p>';
      }
    });

    document.getElementById('close-admin').addEventListener('click', () => {
      document.getElementById('admin-modal').classList.add('hidden');
    });

    function updateOrderStatus(orderId, status) {
      const order = orders.find(o => o.id === orderId);
      if (order) {
        order.status = status;
        if (status !== '–í –ø—É—Ç–∏') order.courier = null;
        localStorage.setItem('orders', JSON.stringify(orders));
        renderOrders();
        document.getElementById('admin-search-btn').click();
      }
    }

    function assignCourier(orderId, courierId) {
      const order = orders.find(o => o.id === orderId);
      if (order) {
        order.courier = parseInt(courierId);
        localStorage.setItem('orders', JSON.stringify(orders));
        renderOrders();
      }
    }

    // Courier panel
    function renderCourierOrders() {
      const courierId = parseInt(currentUser.replace('courier', ''));
      const courierOrders = orders.filter(order => order.courier === courierId && order.status === '–í –ø—É—Ç–∏');
      document.getElementById('courier-orders').innerHTML = courierOrders.map(order => `
        <div class="bg-gray-100 p-4 rounded-lg mb-4">
          <p>–ó–∞–∫–∞–∑ #${order.id}</p>
          <p>–ê–¥—Ä–µ—Å: ${order.address}</p>
          <p>–¢–æ–≤–∞—Ä—ã: ${order.items.map(item => `${item.name} x${item.quantity}`).join(', ')}</p>
        </div>
      `).join('');
    }

    document.getElementById('close-courier').addEventListener('click', () => {
      document.getElementById('courier-modal').classList.add('hidden');
    });

    document.getElementById('update-location').addEventListener('click', () => {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(position => {
          const courierId = parseInt(currentUser.replace('courier', ''));
          const courier = couriers.find(c => c.id === courierId);
          if (courier) {
            courier.lat = position.coords.latitude;
            courier.lng = position.coords.longitude;
            alert('–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–æ');
          }
        });
      } else {
        alert('–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è');
      }
    });

    // Google Maps
    let map, marker;
    function initMap() {
      map = new google.maps.Map(document.getElementById('map'), {
        center: { lat: 55.7558, lngVlng: 37.6173 },
        zoom: 12
      });
    }

    function trackOrder(orderId) {
      const order = orders.find(o => o.id === orderId);
      if (order && order.courier) {
        document.getElementById('delivery-tracking').classList.remove('hidden');
        const courier = couriers.find(c => c.id === order.courier);
        if (courier) {
          map.setCenter({ lat: courier.lat, lng: courier.lng });
          if (marker) marker.setMap(null);
          marker = new google.maps.Marker({
            position: { lat: courier.lat, lng: courier.lng },
            map: map,
            title: courier.name
          });
        }
      }
    }

    // Search functionality
    document.getElementById('search').addEventListener('input', (e) => {
      const query = e.target.value.toLowerCase();
      ['ramen', 'rolls', 'wok'].forEach(section => {
        const container = document.getElementById(`${section}-items`);
        container.innerHTML = catalog[section]
          .filter(item => item.name.toLowerCase().includes(query))
          .map(item => `
            <div class="bg-white p-4 rounded-lg shadow-md">
              <img src="${item.img}" alt="${item.name}" class="w-full h-48 object-cover rounded-lg mb-4">
              <h3 class="text-lg font-semibold">${item.name}</h3>
              <p class="text-gray-600">${item.price} ‚ÇΩ</p>
              <button onclick="addToCart(${item.id}, '${item.name}', ${item.price})" class="mt-2 bg-pink-600 text-white px-4 py-2 rounded-lg">–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É</button>
            </div>
          `).join('');
      });
    });

    // Initialize
    renderCatalog();
    updateCart();
  </script>
  
</body>
</html>